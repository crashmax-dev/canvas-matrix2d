!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var e=i();for(var n in e)("object"==typeof exports?exports:t)[n]=e[n]}}(this,(function(){return function(t){var i={};function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(n,r,function(i){return t[i]}.bind(null,r));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";function n(t,i){return Math.floor(t+Math.random()*(i+1-t))}function r(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.r(i),e.d(i,"Matrix",(function(){return f}));var s=function(){function t(i,e){if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={sprites:[],width:[24,32],rotate:[-30,30],opacity:.5,speed:33,count:30},this.entity=[],(null==e?void 0:e.width)&&e.width[0]>e.width[1])throw new Error("Range `flyings.width` cannot be larger than the first number");this.matrix=i,this.options=Object.assign(Object.assign({},this.options),e)}var i,e,s;return i=t,(e=[{key:"randomSprite",value:function(){return this.options.sprites[n(0,this.options.sprites.length-1)]}},{key:"start",value:function(){var t=this;this.interval||(this.interval=setInterval((function(){t.render()}),this.options.speed))}},{key:"stop",value:function(){this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"clear",value:function(){this.entity.forEach((function(t){return t.img.remove()})),this.entity=[]}},{key:"initSprites",value:function(){for(;this.entity.length!==this.options.count;){var t=new Image;t.src=this.randomSprite(),t.style.userSelect="none",t.style.position="absolute",t.style.width=n(this.options.width[0],this.options.width[0])+"px",t.style.opacity=this.options.opacity.toString(),document.body.appendChild(t),this.entity.push({dx:0,x:Math.random()*(this.matrix.canvas.width-50),y:Math.random()*this.matrix.canvas.height,am:20*Math.random(),stepX:.02+Math.random()/10,stepY:.7+Math.random(),rotate:n(this.options.rotate[0],this.options.rotate[1]),img:t})}}},{key:"render",value:function(){if(this.matrix.ctx&&this.matrix.running){this.initSprites();for(var t=0;t<this.entity.length;++t)this.entity[t].y+=this.entity[t].stepY,this.entity[t].y>this.matrix.canvas.height-50&&(this.entity[t].x=Math.random()*(this.matrix.canvas.width-this.entity[t].am-50),this.entity[t].y=0,this.entity[t].stepX=.02+Math.random()/10,this.entity[t].stepY=.7+Math.random()),this.entity[t].dx+=this.entity[t].stepX,this.entity[t].img.style.top=this.entity[t].y+"px",this.entity[t].img.style.left=this.entity[t].x+this.entity[t].am*Math.sin(this.entity[t].dx)+"px",(this.options.rotate[0]||this.options.rotate[1])&&(this.entity[t].img.style.transform="rotate("+(this.entity[t].rotate+30*Math.sin(this.entity[t].dx))+"deg)")}}}])&&r(i.prototype,e),s&&r(i,s),t}(),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};function a(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={interval:200,enable:!1,colors:[],texts:[],size:40},this.matrix=i,this.options=Object.assign(Object.assign({},this.options),e)}var i,e,r;return i=t,(e=[{key:"randomSplash",value:function(){return this.options.texts[n(0,this.options.texts.length-1)]}},{key:"start",value:function(){var t=this;this.interval||(this.interval=setInterval((function(){t.render()}),this.options.interval))}},{key:"stop",value:function(){this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"render",value:function(){this.matrix.ctx&&this.matrix.running&&(this.matrix.ctx.save(),this.matrix.ctx.fillStyle=this.matrix.randomColor(),this.matrix.ctx.font="".concat(this.options.size,"pt ").concat(this.matrix.font.family),this.matrix.ctx.rotate(n(0,360)),this.matrix.ctx.fillText(this.randomSplash(),n(200,this.matrix.canvas.width-200),n(200,this.matrix.canvas.height-200)),this.matrix.ctx.restore())}}])&&a(i.prototype,e),r&&a(i,r),t}();function c(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(i){var e,n=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.running=!1,this.traces=[],this.target=i.target,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.target.appendChild(this.canvas),this.flying=new s(this,i.flyings),this.splash=new h(this,i.splashes),this.font=new FontFace(i.font.family,"url(".concat(i.font.file,")")),this.fontSize=i.font.size,this.tracesCount=i.tracesCount||300,this.autoresize=null===(e=i.autoresize)||void 0===e||e,this.symbols=i.symbols,this.colors=i.font.colors||["#225400","#66FF00","#155400","#395410","#7FFF00","#005400","#2A5400","#3FFF00","#00FF00","#ADFF2F"],this.autoresize&&window.addEventListener("resize",(function(){n.setSize()})),this.setSize()}var i,e,r;return i=t,(e=[{key:"start",value:function(){var t=this;this.running||this.font.load().then((function(){t.running=!0,t.render(),t.splash.start(),t.flying.start()})).catch((function(){throw new Error("Failed loading `font.file`")}))}},{key:"stop",value:function(){this.running=!1,this.clear()}},{key:"clear",value:function(){this.ctx&&(this.traces=[],this.ctx.save(),this.ctx.globalCompositeOperation="copy",this.ctx.lineTo(0,0),this.ctx.stroke(),this.ctx.restore(),this.flying.clear())}},{key:"pause",value:function(){this.running=!this.running,this.running&&this.render()}},{key:"randomColor",value:function(){return this.colors[n(0,this.colors.length-1)]}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.width,e=void 0===i?this.target.clientWidth:i,n=t.height,r=void 0===n?this.target.clientHeight:n;this.canvas.width=e,this.canvas.height=r}},{key:"initTraces",value:function(){for(;this.traces.length!==this.tracesCount;)this.traces.push(n(0,1e3))}},{key:"render",value:function(){var t=this;this.ctx&&this.running&&(this.traces.length!==this.tracesCount&&this.initTraces(),o((function(){return t.render()})),this.ctx.fillStyle="rgba(0, 0, 0, .05)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle=this.randomColor(),this.ctx.font="".concat(this.fontSize,"pt ").concat(this.font.family),this.traces.map((function(i,e){var n,r=(null===(n=t.symbols)||void 0===n?void 0:n.call(t))||String.fromCharCode(100+28*Math.random()),s=10*e+10;t.ctx.fillText(r,s,i),i>100+1e4*Math.random()?t.traces[e]=0:t.traces[e]=i+10})))}}])&&c(i.prototype,e),r&&c(i,r),t}();function u(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._=new l(i)}var i,e,n;return i=t,(e=[{key:"isRunning",get:function(){return this._.running}},{key:"start",value:function(){this._.start()}},{key:"stop",value:function(){this._.stop()}},{key:"clear",value:function(){this._.clear()}},{key:"pause",value:function(){this._.pause()}}])&&u(i.prototype,e),n&&u(i,n),t}()}])}));